{"identifier":{"url":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/wrapper","interfaceLanguage":"swift"},"kind":"article","sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"metadata":{"roleHeading":"Article","role":"article","title":"Wrapper for Usage in C\/C++","modules":[{"name":"NixUniversalSDK"}]},"abstract":[{"text":"Review an example project which provides a C\/C++ interface for macOS applications","type":"text"}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"Overview","text":"Overview","type":"heading"},{"inlineContent":[{"text":"For macOS applications that require a C\/C++ interface, it may be possible to use NixUniversalSDK indirectly. For example, the SDK download provides a project ","type":"text"},{"code":"example-macos-wrapper","type":"codeVoice"},{"type":"text","text":" which allows for its usage in C\/C++ applications."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This project contains single "},{"type":"reference","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/IDeviceScanner","isActive":true},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/IDeviceCompat"},{"type":"text","text":" instances. It provides a static interface to access these instances and also provides callbacks for device and scanner events. The project contains a basic implementation, but can be modified or expanded to better suit your specific application."}],"type":"paragraph"},{"inlineContent":[{"text":"The wrapper project is part of the SDK examples which are available ","type":"text"},{"isActive":true,"identifier":"https:\/\/www.nixsensor.com\/sdk-ios","type":"reference"},{"text":".","type":"text"}],"type":"paragraph"},{"type":"heading","anchor":"Building-the-wrapper-project","text":"Building the wrapper project","level":3},{"type":"paragraph","inlineContent":[{"text":"It is recommended to build the wrapper from the terminal using the provided build script. This script depends on the ‘Command Line Tools for Xcode’, which are available from the Apple Developer ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/download\/all\/","isActive":true},{"type":"text","text":"."}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Open a terminal and navigate to the "},{"code":"example-macos-wrapper","type":"codeVoice"},{"type":"text","text":" folder"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Run the "},{"type":"codeVoice","code":"build.sh"},{"text":" script. The script takes an option:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"-c"},{"text":": Clean build folder","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"-d"},{"type":"text","text":": Build wrapper for debug"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"-r"},{"text":": Build wrapper for release","type":"text"}]}]}],"type":"unorderedList"}]}]},{"type":"paragraph","inlineContent":[{"text":"For example, to build the wrapper for release:","type":"text"}]},{"syntax":"shell","code":["sh build.sh -r"],"type":"codeListing"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The build outputs will be located at the relative path "},{"type":"codeVoice","code":"build\/Release"},{"text":" (for a release build). These include:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"libNixUniversalSDK-Wrapper.dylib","type":"codeVoice"},{"text":": wrapper library file with exported functions","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"NixUniversalSDK-Wrapper.h","type":"codeVoice"},{"type":"text","text":": C\/C++ header file corresponding to the .dylib file"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"NixUniversalSDK.framework"},{"type":"text","text":": base "},{"type":"codeVoice","code":"NixUniversalSDK"},{"type":"text","text":" framework, required at runtime by "},{"type":"codeVoice","code":"libNixUniversalSDK-Wrapper.dylib"}]}]}]}]}],"start":3,"type":"orderedList"},{"type":"heading","text":"Runtime requirements","level":3,"anchor":"Runtime-requirements"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"When using the wrapper library in a project, you must manually load the "},{"code":"NixUniversalSDK.framework","type":"codeVoice"},{"text":" dependency at runtime (using ","type":"text"},{"type":"codeVoice","code":"dlopen"},{"type":"text","text":", for example). This framework must be loaded prior to calling the wrapper functions in "},{"type":"codeVoice","code":"libNixUniversalSDK-Wrapper.dylib"},{"text":".","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"NSBluetoothAlwaysUsageDescription","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"NSBluetoothPeripheralUsageDescription"},{"text":" must be included in your application’s ","type":"text"},{"code":"info.plist","type":"codeVoice"},{"type":"text","text":" file. This requirement is similar to that discussed in "},{"identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/add-to-xcode#Add-required-usage-descriptions","isActive":true,"type":"reference"},{"text":".","type":"text"}]}]}],"type":"unorderedList"},{"name":"Important","type":"aside","content":[{"inlineContent":[{"type":"text","text":"Failure to include the usage descriptions will cause your program to crash when accessing the Bluetooth peripheral"}],"type":"paragraph"}],"style":"important"},{"level":2,"type":"heading","text":"Next Steps","anchor":"Next-Steps"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK#Additional-Support"}]}]}],"type":"unorderedList"}]}],"hierarchy":{"paths":[["doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/nixuniversalsdk\/wrapper"]},{"paths":["\/documentation\/nixuniversalsdk\/wrapper"],"traits":[{"interfaceLanguage":"occ"}]}],"seeAlsoSections":[{"anchor":"Getting-Started","generated":true,"title":"Getting Started","identifiers":["doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/release-notes","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/add-to-xcode","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/activating-license","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/discovering-connecting","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/device-operations","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/handling-measurements","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/example-apps"]}],"references":{"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK":{"title":"NixUniversalSDK","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK","type":"topic","kind":"symbol","role":"collection","abstract":[{"type":"text","text":"A library to allow integration of Nix devices into third-party iOS and macOS applications."}],"url":"\/documentation\/nixuniversalsdk"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK#Additional-Support":{"kind":"section","url":"\/documentation\/nixuniversalsdk#Additional-Support","type":"topic","title":"Additional Support","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK#Additional-Support","abstract":[]},"https://www.nixsensor.com/sdk-ios":{"title":"online","identifier":"https:\/\/www.nixsensor.com\/sdk-ios","type":"link","titleInlineContent":[{"type":"text","text":"online"}],"url":"https:\/\/www.nixsensor.com\/sdk-ios"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/DeviceScanner":{"identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/DeviceScanner","url":"\/documentation\/nixuniversalsdk\/devicescanner","type":"topic","kind":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DeviceScanner","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"DeviceScanner"}],"title":"DeviceScanner","role":"symbol","abstract":[{"type":"text","text":"Class used to discover nearby Nix devices"}]},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/example-apps":{"role":"article","type":"topic","title":"Example Applications","abstract":[{"type":"text","text":"Explore source code for demo iOS and macOS applications"}],"kind":"article","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/example-apps","url":"\/documentation\/nixuniversalsdk\/example-apps"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/discovering-connecting":{"role":"article","title":"Discovering and Connecting to Nix Devices","abstract":[{"type":"text","text":"Use the device scanner to discover Nix devices and open a connection"}],"url":"\/documentation\/nixuniversalsdk\/discovering-connecting","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/discovering-connecting","kind":"article","type":"topic"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/device-operations":{"role":"article","type":"topic","abstract":[{"type":"text","text":"Take measurements, set device options, and query device properties"}],"title":"Device Operations","kind":"article","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/device-operations","url":"\/documentation\/nixuniversalsdk\/device-operations"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/IDeviceScanner":{"url":"\/documentation\/nixuniversalsdk\/idevicescanner","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/IDeviceScanner","title":"IDeviceScanner","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"IDeviceScanner"}],"kind":"symbol","type":"topic","navigatorTitle":[{"text":"IDeviceScanner","kind":"identifier"}],"abstract":[{"text":"Protocol implemented by the ","type":"text"},{"identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/DeviceScanner","isActive":true,"type":"reference"}]},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/add-to-xcode":{"abstract":[{"type":"text","text":"Add the library bundle to your project and declare peripheral uses"}],"role":"article","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/add-to-xcode","title":"Adding to Your Xcode Project","kind":"article","type":"topic","url":"\/documentation\/nixuniversalsdk\/add-to-xcode"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/release-notes":{"identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/release-notes","kind":"article","role":"article","abstract":[{"type":"text","text":"Review the changes made in this version of the library"}],"type":"topic","title":"Release Notes","url":"\/documentation\/nixuniversalsdk\/release-notes"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/add-to-xcode#Add-required-usage-descriptions":{"url":"\/documentation\/nixuniversalsdk\/add-to-xcode#Add-required-usage-descriptions","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/add-to-xcode#Add-required-usage-descriptions","title":"Add required usage descriptions","abstract":[],"kind":"section","type":"topic"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/activating-license":{"identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/activating-license","kind":"article","role":"article","abstract":[{"type":"text","text":"Enable Nix device functions with your license code"}],"type":"topic","title":"Activating the SDK License","url":"\/documentation\/nixuniversalsdk\/activating-license"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/handling-measurements":{"identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/handling-measurements","type":"topic","title":"Handling Measurement Data","abstract":[{"type":"text","text":"Query measurement values including colorimetry, spectral reflectance, and density"}],"kind":"article","role":"article","url":"\/documentation\/nixuniversalsdk\/handling-measurements"},"doc://com.nixsensor.universalsdk/documentation/NixUniversalSDK/IDeviceCompat":{"type":"topic","abstract":[{"type":"text","text":"Protocol describing the supported properties and methods for a Nix device. "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/IDeviceCompat"},{"type":"text","text":" objects are found nearby using the "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/DeviceScanner"},{"text":".","type":"text"}],"kind":"symbol","role":"symbol","identifier":"doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/IDeviceCompat","navigatorTitle":[{"kind":"identifier","text":"IDeviceCompat"}],"title":"IDeviceCompat","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"text":"IDeviceCompat","kind":"identifier"}],"url":"\/documentation\/nixuniversalsdk\/idevicecompat"},"https://developer.apple.com/download/all/":{"title":"downloads page","url":"https:\/\/developer.apple.com\/download\/all\/","titleInlineContent":[{"type":"text","text":"downloads page"}],"type":"link","identifier":"https:\/\/developer.apple.com\/download\/all\/"}},"variantOverrides":[{"patch":[{"op":"replace","value":"occ","path":"\/identifier\/interfaceLanguage"},{"value":null,"op":"add","path":"\/topicSections"},{"path":"\/seeAlsoSections","op":"replace","value":[{"identifiers":["doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/release-notes","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/add-to-xcode","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/activating-license","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/discovering-connecting","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/device-operations","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/handling-measurements","doc:\/\/com.nixsensor.universalsdk\/documentation\/NixUniversalSDK\/example-apps"],"anchor":"Getting-Started","generated":true,"title":"Getting Started"}]},{"op":"replace","value":"DeviceScanner","path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1DeviceScanner\/title"},{"value":[{"kind":"identifier","text":"DeviceScanner"}],"op":"replace","path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1DeviceScanner\/fragments"},{"value":[{"kind":"identifier","text":"DeviceScanner"}],"path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1DeviceScanner\/navigatorTitle","op":"replace"},{"path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1IDeviceScanner\/title","op":"replace","value":"IDeviceScanner"},{"value":[{"text":"IDeviceScanner","kind":"identifier"}],"op":"replace","path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1IDeviceScanner\/fragments"},{"value":[{"text":"IDeviceScanner","kind":"identifier"}],"op":"replace","path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1IDeviceScanner\/navigatorTitle"},{"value":"IDeviceCompat","op":"replace","path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1IDeviceCompat\/title"},{"op":"replace","path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1IDeviceCompat\/fragments","value":[{"kind":"identifier","text":"IDeviceCompat"}]},{"op":"replace","path":"\/references\/doc:~1~1com.nixsensor.universalsdk~1documentation~1NixUniversalSDK~1IDeviceCompat\/navigatorTitle","value":[{"kind":"identifier","text":"IDeviceCompat"}]}],"traits":[{"interfaceLanguage":"occ"}]}]}